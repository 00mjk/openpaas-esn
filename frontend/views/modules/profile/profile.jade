div.row(ng-controller='profileEditionController')

  div.col-md-3.col-xs-12.profile-image.text-center
    div(ng-controller='avatarController')
      img(ng-src='{{avatarURL}}&format=original')
    div(ng-controller='avatarEdit')
      button.btn.btn-primary(type="button", ng-click="showAvatarEditModal()" width="150") #{__('Edit your photo')}

  div.col-md-9.col-xs-12.profile-card

    div.row
      div.col-md-10.col-xs-10
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.name')
        p.lead(editable-text='fullName', e-form='nameForm', onbeforesave='updateName($data)', e-class='profile-large-input') {{ fullName || initFullName(user.firstname, user.lastname) }}
      div.col-md-2.col-xs-2
        a(ng-click='nameForm.$show()', ng-hide='nameForm.$visible', ng-disabled='running.name') #{__('Edit')}

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-at.hidden-xs
        i.fa.fa-at.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Email')}
      div.col-md-6.col-sm-4.col-xs-6
        a(ng-href="mailto:{{user.emails[0]}}") {{user.emails[0]}}
      div.col-md-2.col-sm-2.col-xs-2

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-quote-right.hidden-xs
        i.fa.fa-quote-right.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Job Title')}
      div.col-md-6.col-sm-4.col-xs-6
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.job')
        span(editable-text='user.job_title', e-form='jobForm', id= 'jobForm', onbeforesave='updateJob($data)'
          e-placeHolder="#{__('Job Title')}", e-maxlength='100', e-class='profile-small-input') {{ user.job_title }}
      div.col-md-2.col-sm-2.col-xs-2
        a(ng-click='jobForm.$show()', ng-hide='jobForm.$visible', ng-disabled='running.job') #{__('Edit')}

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-briefcase.hidden-xs
        i.fa.fa-briefcase.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Service')}
      div.col-md-6.col-sm-4.col-xs-6
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.service')
        span(editable-text='user.service', e-form='serviceForm', onbeforesave='updateService($data)',
        e-placeHolder="#{__('Service')}", e-maxlength='400', e-class='profile-small-input') {{ user.service }}
      div.col-md-2.col-sm-2.col-xs-2
        a(ng-click='serviceForm.$show()', ng-hide='serviceForm.$visible', ng-disabled='running.service') #{__('Edit')}

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-building.hidden-xs
        i.fa.fa-building.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Building Location')}
      div.col-md-6.col-sm-4.col-xs-6
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.building_location')
        span(editable-text='user.building_location', e-form='buildingForm', onbeforesave='updateBuildingLocation($data)',
        e-placeHolder="#{__('Building Location')}", e-maxlength='400', e-class='profile-small-input') {{ user.building_location }}
      div.col-md-2.col-sm-2.col-xs-2
        a(ng-click='buildingForm.$show()', ng-hide='buildingForm.$visible', ng-disabled='running.building_location') #{__('Edit')}

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-building-o.hidden-xs
        i.fa.fa-building-o.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Office Location')}
      div.col-md-6.col-sm-4.col-xs-6
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.office_location')
        span(editable-text='user.office_location', e-form='officeForm', onbeforesave='updateOfficeLocation($data)',
        e-placeHolder="#{__('Office Location')}", e-maxlength='400', e-class='profile-small-input') {{ user.office_location }}
      div.col-md-2.col-sm-2.col-xs-2
        a(ng-click='officeForm.$show()', ng-hide='officeForm.$visible', ng-disabled='running.office_location') #{__('Edit')}

    div.row
      div.col-md-4.col-sm-4.col-xs-4
        i.fa.fa-phone.hidden-xs
        i.fa.fa-phone.fa-lg.pull-right.visible-xs
        label.hidden-xs #{__('Phone')}
      div.col-md-6.col-sm-4.col-xs-6
        span(us-spinner="{lines: 7, length: 3, width: 5, radius: 6, corners: 1, rotate: 0, direction: 1, speed: 1, trail: 50, top: '10%', left: '20%'}",
        spinner-start-active='1',
        ng-show='running.phone')
        span(editable-text='user.main_phone', e-form='phoneForm', onbeforesave='updatePhone($data)',
        e-placeHolder="#{__('Phone')}", e-maxlength='20', e-class='profile-small-input') {{ user.main_phone }}
      div.col-md-2.col-sm-2.col-xs-2
        a(ng-click='phoneForm.$show()', ng-hide='phoneForm.$visible', ng-disabled='running.phone') #{__('Edit')}
