div.whatsup-form.form-container(ng-controller='messageController', nv-file-drop="" uploader="uploader")
  form(name='whatsupform')
    .form-group(ng-class='{nopadding: rows !== 5}')
      textarea.whatsup-input.form-control(ng-model='whatsupmessage', ng-focus='expand()', ng-blur='shrink()', placeholder="#{__('Publish a new whatsup message')}", rows="{{rows}}", ng-file-drop="onFileSelect($files)")
    .form-group
      map-get-display-current-position
    .form-group(ng-show='attachments && attachments.length > 0')
      message-edition-attachments

    .form-group(ng-class='{nopadding: rows !== 5}', ng-hide='rows !== 5')
      .text-left
        button.btn.btn-primary(type='submit', ng-click='sendMessage()') #{__('Publish')}
        &nbsp;
        button.btn.btn-default(type='reset', ng-click='resetMessage()') #{__('Cancel')}
        &nbsp;
        button.btn.btn-link(type='file', ng-file-select='onFileSelect($files)', data-multiple='true')
          i.fa.fa-paperclip
        &nbsp;
        a(href='', fill-position)
          i.fa.fa-map-marker
