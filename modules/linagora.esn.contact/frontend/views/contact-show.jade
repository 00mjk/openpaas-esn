form.esn-panel.main-panel.hidden-xs(ng-submit='accept()')
  .row.panel-header
    .col-sm-7.col-xs-12.panel-title
      span.contact-heading
        | {{contact.displayName}}
    .col-sm-5.col-xs-12.action-bar
      button.btn.btn-default.btn-raised.btn-cancel(type='button', ng-click='close()') #{__('Back')}
  .row.create-content
    .contact-error-container
      contact-display(contact='contact', update='true', modify='modify')

.row.contact-header.visible-xs.nomargin.full-width(ng-swipe-right='back()')
    .contact-controls-wrapper.nomargin.full-width
      .contact-controls.row.full-width.nomargin(data-offset-top="0" bs-affix)
        a.hover-scale-animation.col-xs-3(href='', ng-click='close()')
          i.mdi.mdi-reply
        a.hover-scale-animation.col-xs-3(ng-href='#/contact/edit/{{::bookId}}/{{::contact.id}}')    
          i.mdi.mdi-pencil
        a.hover-scale-animation.col-xs-3(href='')
          i.mdi.mdi-magnify
        div.hover-scale-animation.dropdown.pull-right.col-xs-3
          a.moreactions.dropdown-toggle(href='' data-toggle="dropdown" aria-expanded="false" aria-haspopup="true")
            i.mdi.mdi-dots-horizontal
          ul.dropdown-menu.dropdown-menu-right(role="menu")
            li
              a(href='', ng-click="deleteContact()") Delete       
    img.nomargin.full-width(ng-src='{{contact.photo || defaultAvatar}}')
.row.contact-content.visible-xs.nomargin.full-width
  .contact-error-container
    div.contact-fn
      span
        | {{contact.displayName}}
    .contact-infos
      div(ng-repeat='tel in contact.tel track by $index')      
        a(ng-href='tel:{{tel.value}}')
          button.waves-effect.btn.btn-default.contact-card(type='button')
              i.mdi.mdi-phone.contact-card-fa
              p.contact-card-infos {{tel.value}}
              p.contact-card-type {{tel.type}}
      div(ng-repeat='email in contact.emails track by $index')      
        a(ng-href='mailto:{{email.value}}')        
          button.btn.btn-default.waves-effect.contact-card(type='button')
              i.mdi.mdi-email.contact-card-fa
              p.contact-card-infos {{email.value}}
              p.contact-card-type {{email.type}}  
      button.waves-effect.btn.btn-default.contact-card(type='button' ng-repeat='social in contact.social track by $index')
          i.mdi.mdi-whatsapp.contact-card-fa(ng-if='social.type==="Skype"')
          i.mdi.mdi-twitter.contact-card-fa(ng-if='social.type==="Twitter"')
          i.mdi.mdi-account-circle.contact-card-fa(ng-if='social.type!=="Skype" && social.type!=="Twitter"')
          p.contact-card-infos {{social.value}}
          p.contact-card-type {{social.type}}        
      a(target="_blank" ng-href='{{contact.orgUri}}')  
        button.waves-effect.btn.btn-default.contact-card(ng-if='contact.orgUri')
          i.mdi.mdi-earth.contact-card-fa
          p.contact-card-infos {{contact.orgUri}}
          p.contact-card-type Website          
      button.waves-effect.btn.btn-default.contact-card(ng-repeat='address in contact.addresses track by $index')
          i.mdi.mdi-map-marker.contact-card-fa   
          .contact-card-infos 
            {{address.street}} 
            br
            {{address.zip}} {{address.city}}
            br 
            {{address.country}}
            p.contact-card-type {{address.type}}
      button.waves-effect.btn.btn-default.contact-card(ng-if='contact.org[0] || contact.orgRole')
          i.mdi.mdi-briefcase.contact-card-fa
          p.contact-card-infos(ng-if='contact.org[0]') {{contact.org[0]}}
          p.contact-card-infos(ng-if='contact.orgRole') {{contact.orgRole}}
      button.waves-effect.btn.btn-default.contact-card.tags(type='button' ng-if='contact.tags.length!=0')
          i.mdi.mdi-tag-multiple.contact-card-fa
          ul.tag-list.contact-card-infos
            li.tag-item(ng-repeat='tag in contact.tags track by $index') {{tag.text}}     
      button.waves-effect.btn.btn-default.contact-card(ng-if='contact.firstName || contact.lastName || contact.nickname')
          i.mdi.mdi-account.contact-card-fa
          p.contact-card-infos(ng-if='contact.firstName') First name: {{contact.firstName}}
          p.contact-card-infos(ng-if='contact.lastName') Last name: {{contact.lastName}}
          p.contact-card-infos(ng-if='contact.nickname') Nickname: {{contact.nickname}}
      button.waves-effect.btn.btn-default.contact-card(ng-if='formattedBirthday')
          i.mdi.mdi-cake-variant.contact-card-fa
          p.contact-card-infos {{formattedBirthday}}
      .contact-card.contact-card-comments(ng-if='contact.notes')
          i.mdi.mdi-clipboard-text.contact-card-fa
          p.contact-card-infos {{contact.notes}}        
